<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
</head>
  <body style="width: 420px;">
    <div class="header">
      <span class="title">YouTranscribe</span>
      <button id="settingsBtn" class="material-icons">settings</button>
    </div>

    <div class="tab-nav">
      <button class="tab-link active" data-tab="chatTab">Chat</button>
      <button class="tab-link" data-tab="settingsTab">Settings</button>
      <button class="tab-link" data-tab="agentsTab">Agents</button>
    </div>

    <div id="chatTab" class="tab-content">
      <textarea id="transcriptBox" rows="10" readonly class="hidden"></textarea>

      <div id="quickActions">
        <button class="action-btn" data-type="summary">Summarize</button>
        <button class="action-btn" data-type="fact">Fact Check</button>
        <button class="action-btn" data-type="insights">Insights</button>
      </div>

      <div id="suggested" class="suggested"></div>

      <div id="chatContainer">
        <textarea id="chatInput" rows="2" placeholder="Ask a question..."></textarea>
        <button id="chatSend" class="material-icons">send</button>
      </div>

      <div id="qaContainer"></div>
    </div>

    <div id="settingsTab" class="tab-content hidden">
      <label for="apiKey">OpenAI API Key:</label>
      <input type="password" id="apiKey" placeholder="sk-..." />

      <label for="keyLocation">Store API key in:</label>
      <select id="keyLocation">
        <option value="sync">Chrome Sync</option>
        <option value="local">Local Only</option>
      </select>

      <label for="modelSelect">Choose AI Model:</label>
      <select id="modelSelect">
        <option value="gpt-4o">GPT-4o</option>
        <option value="gpt-4">GPT-4</option>
        <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
      </select>

      <button id="saveSettings">Save</button>
      <span id="statusMsg" style="margin-left:10px;color:green;display:none;">Saved!</span>
    </div>

    <div id="agentsTab" class="tab-content hidden">
      <div class="sub-tab-nav">
        <button class="sub-tab-link active" data-sub-tab="manageAgents">Manage Agents</button>
        <button class="sub-tab-link" data-sub-tab="agentMakerSub">Agent Maker</button>
      </div>

      <div id="manageAgents" class="sub-tab-content">
        <div id="agentList"></div>
        <label for="assistantId">Current Assistant ID:</label>
        <input type="text" id="assistantId" placeholder="asst_..." />
        <button id="saveAgent">Save</button>
        <span id="agentStatus" style="margin-left:10px;color:green;display:none;">Saved!</span>
      </div>

      <div id="agentMakerSub" class="sub-tab-content hidden">
        <div id="agentMaker">
          <h3>Agent Maker</h3>
          <label for="newName">Name:</label>
          <input type="text" id="newName" />

        <label for="newDescription">Description:</label>
        <input type="text" id="newDescription" />

        <label for="newInstructions">Instructions:</label>
        <textarea id="newInstructions" rows="3"></textarea>

        <label for="newModel">Model:</label>
        <select id="newModel">
          <option value="gpt-4o">GPT-4o</option>
          <option value="gpt-4">GPT-4</option>
          <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
        </select>

        <label for="newReasoning">Reasoning Effort:</label>
        <select id="newReasoning">
          <option value="low">Low</option>
          <option value="medium">Medium</option>
          <option value="high">High</option>
        </select>

        <label for="newResponseFormat">Response Format:</label>
        <select id="newResponseFormat">
          <option value="auto">Auto</option>
          <option value="text">Text</option>
          <option value="json_object">JSON</option>
        </select>

        <label for="newTemp">Temperature: <span id="tempVal">1</span></label>
        <input type="range" id="newTemp" min="0" max="2" step="0.1" value="1" />

          <label for="newTopP">Top P: <span id="topPVal">1</span></label>
          <input type="range" id="newTopP" min="0" max="1" step="0.1" value="1" />

          <div>
            <label><input type="checkbox" name="tool" value="file_search" />file_search</label>
            <label><input type="checkbox" name="tool" value="function" />function</label>
          </div>

          <button id="createCustomAssistant">Create Assistant</button>
        </div>
      </div>
    </div>

    <script src="lz-string.min.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
