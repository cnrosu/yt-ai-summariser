# YouTranscribe - AI Powered Youtube Video Transcription

Chrome extension and Python backend for transcribing YouTube videos with the **faster-whisper** model and analysing them using GPT models. The extension, **YouTranscribe**, now provides a Material-style UI with quick actions, suggested questions and a dedicated settings page for your API key.

The UI features smooth microanimations for button presses and question cards. Swipe a saved answer left or right to delete it, or long-press to copy the text. A small spinner appears while each reply is loading and while the transcript is being generated so you always know when work is in progress. Each answer also has a copy icon in the corner for quick copying. Clicking it briefly shows a "\ud83d\udccb Copied" popup as confirmation.

Transcripts are cached per video on disk and in the browser. Any questions you ask are saved in Chrome sync storage so they remain tied to your Google account and are not shared with other users. A copy of each question/answer pair is also written on the server next to the transcript for that video.

As you continue asking questions, the extension now uses OpenAI's Assistants API
to keep a dedicated conversation thread per video. If no Assistant ID is saved
the plugin will automatically create a standard **YouTranscribe** assistant when
it loads. You can also create this assistant manually from the settings page via
the **Create Standard Assistant** button. Once an ID is available, each
follow-up question will be sent in the same thread so GPT has full context. The
history is still stored locally and written to disk via the server for later
retrieval.

## Setup

1. Install Python 3.10 or newer and create a virtual environment (optional):
   ```bash
   python -m venv venv
   source venv/bin/activate
   ```
2. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```
   For running the tests, also install:
   ```bash
   pip install -r requirements-dev.txt
   ```
3. Copy `.env.example` to `.env` and adjust the settings if needed.
   At minimum you can override `FFMPEG_DIR` to point at your ffmpeg binaries
   or change the `PORT` used by the server.
4. Start the server:
   ```bash
   python yt_ai_server.py
   ```
   The API is now available on `http://localhost:5010` by default, with CORS
   enabled so the Chrome extension can connect.
5. Load the `chromeplugin/` folder as an unpacked extension in Chrome to use the UI.
6. Generate a ChatGPT API key by visiting [OpenAI's API key page](https://platform.openai.com/api-keys).
   Open the extension on any YouTube video and click the **cogwheel** icon to go
   to the settings page, then paste your key into the **OpenAI API Key** field.

See [docs/API_REFERENCE.md](docs/API_REFERENCE.md) for details on the available endpoints and how to run the server. For information about the automated test suite see [docs/TESTING.md](docs/TESTING.md).

## Architecture

The project consists of a small Flask server and a Chrome extension that talk over HTTP.

1. The **Chrome extension** injects UI components into YouTube pages and lets you request a transcript or ask questions about a video.
2. The **server** (`yt_ai_server.py`) downloads the video audio with `yt_dlp`, transcribes it with the faster-whisper model and caches the result under `chromeplugin/transcripts/`.
3. Question/answer pairs generated by GPT are stored alongside the transcript so they can be loaded later.

## Storage notes

Transcripts and question history are always saved in `chrome.storage.local` so they never count toward Chrome's sync quota. Your API key is stored using `chrome.storage.sync` by default, which is limited to roughly **100 KB total** and **8 KB per entry**. If you prefer not to sync the key to your Google account, open the settings page and choose **Local Only** as the key location. This option keeps the key in `chrome.storage.local`.
